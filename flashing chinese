<html>
<head>
<meta charset="UTF-8">
</head>
<body>
<input type="text" id="myText" value="">
<button onclick="window.translate()">Flash</button>
<p id="demo"></p>
<script>
async function translate()
{
	var b = " "+document.getElementById("myText").value+" ";
	document.getElementById("demo").style.fontFamily = "italic";
	var replacements=
			[
			 [1 ,"a","b","c","d","e"],
			 [1 ,"f","g"],
			 [1 ,"h","i","j","k","l","m","n","o","p"]
					 ];
	var j=0;
	var c=0;
	//var k=0
	var linePrintLag = 50; //in milliseconds
	var sub;
	var horozontal = replacements[j];
	const print = (text) =>
	{
			document.body.innerHTML = text;
	};
	const slowlyReplaceCharacters = async (counter) => {
		return new Promise((resolve, reject) => {
			setTimeout(() => {
				replaceCharacters(counter);
				resolve();
			}, linePrintLag);
		});
	}
	const replaceCharacters = (counter) => {
		for(j=0;j<replacements.length;j++)
	{
	//for(x=1;x<=replacements[j].length-1;x++/*,replacements[j][0]++*/)//need to iterate replacements[j] but its not insided the loop
	//
		//document.write(" replacements[j]=" + replacements[j]);   WORKING
		//document.write(" length=" + replacements.length);
		//document.write(" [j][0]=" + replacements[j][0]);
		//document.write(" j=" + j);
	  //document.write(" x=" + x);
		//for(j=0;j<replacements.length;j++)
			//document.write(" replacements[j][0]=" +replacements[j][0]);
			//document.write(" replacements[j].length=" +replacements[j].length);
			//var k = replacements[j];
			//if(replacements[j][0]==replacements[j].length)
			 if(replacements[j][0]<replacements[j].length-1)
			{
			  b=b.replaceAll(replacements[j][(replacements[j][0])],replacements[j][(1+replacements[j][0])]);
				replacements[j][0]++;
				print(b);
				//document.write(" x=" + x);
				//document.write(" j=" + j);
				//document.write(" r=" + replacements[j][0]);
				//document.write('worked2');
	  	}
			else if(replacements[j][0]==replacements[j].length-1)
			{
				b=b.replaceAll(replacements[j][(replacements[j][0])],replacements[j][1]);
				replacements[j][0]=1;
			  print(b);
				//document.write(" x=" + x);
				//document.write(" j=" + j);
				//document.write(" r=" + replacements[j][0]);

	}
}
	} 
	var sleep = function(ms){
  let now = Date.now(),
      end = now + ms;
  while (now < end) {
    now = Date.now();
  }
};
while (true)
{c++;
	await slowlyReplaceCharacters(c);
}
}
</script>
</body>
</html>
