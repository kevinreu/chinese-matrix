<html>
<head>
<meta charset="UTF-8">
<style>
span {
	display: inline-block ;
	width: 13px;
	height: 18px;
}
</style>
</head>
<body>
<input type="text" id="myText" value="">
<button onclick="window.translate()">Flash</button>
<p id="demo"></p>
<script>
async function translate()
{
	var b = " "+document.getElementById("myText").value+" ";
	//myText.style.fontFamily = "Impact,Charcoal,sans-serif";
	var replacements=
			[
			 [1 ,"a","b","c","d","e"],
			 [1 ,"f","g","å¼€"],
			 [1 ,"h","i","j","k","l","m","n","o","p"]
					 ];
	var j=0;
	var c=0;
	var linePrintLag = 500; //in milliseconds
	const print = (text) =>
	{
		document.body.innerHTML = text.split('').map((char) => `<span>${char}</span>`).join('');
	};
	const slowlyReplaceCharacters = async (counter) => {
		return new Promise((resolve, reject) => {
			setTimeout(() => {
				replaceCharacters(counter);
				resolve();
			}, linePrintLag);
		}
				);
	}
	const replaceCharacters = (counter) => {
		for(j=0;j<replacements.length;j++)
		{
			if(replacements[j][0]<replacements[j].length-1)
			{
				b=b.replaceAll(replacements[j][(replacements[j][0])],replacements[j][(1+replacements[j][0])]);
				replacements[j][0]++;
				print(b);
			}
			else if(replacements[j][0]==replacements[j].length-1)
			{
				b=b.replaceAll(replacements[j][(replacements[j][0])],replacements[j][1]);
				replacements[j][0]=1;
				print(b);
			}
		}
	}
	var sleep = function(ms){
		let now = Date.now(),
				end = now + ms;
		while (now < end) {
			now = Date.now();
		}
	};
	while (true)
	{c++;
	await slowlyReplaceCharacters(c);
	}
}
</script>
</body>
</html>
